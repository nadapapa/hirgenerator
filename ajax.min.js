$(function(){$("#load-gen").hide();$("#load-top").hide();$("#hirek").on("click","#like",function(){var a=parseInt($(this).children(".badge").text());$(this).children(".badge").text(a+1)});counter=10;$(".col-md-10").on("click","#ajax",function(){$.ajax({url:"toplista.php",type:"post",data:{action:"load",page:counter},success:function(a){counter+=10;if(a==""){$("#ajax").html('<h3>Nincs több <i class="fa fa-frown-o"></i><h3>');$("#ajax").prop("disabled",true)}else{$(".list-group").append(a)}if(remaining<=0){$("#ajax").html('<h3>Nincs több <i class="fa fa-frown-o"></i><h3>');$("#ajax").prop("disabled",true)}},error:function(c,b,a){console.log(c);console.log("Details: "+b+"\nError:"+a)}})});$("#random").on("click",function(){$.ajax({url:"generator.php",type:"post",data:{action:"true"},success:function(a){$(".list-group").html(a);$(".page-header").text("Random hírek");$("#ajax").hide()},error:function(c,b,a){console.log(c);console.log("Details: "+b+"\nError:"+a)}})});$("#top").on("click",function(){$.ajax({url:"toplista.php",type:"post",data:{action:"page"},success:function(a){$(".list-group").html(a);$(".page-header").text("Legjobb hírek");$("#ajax").show()},error:function(c,b,a){console.log(c);console.log("Details: "+b+"\nError:"+a)}})});$("#hirek").on("click","#like",function(){var a=$(this).prev("b").text();$(this).prop("disabled",true);$.ajax({url:"szavazas.php",type:"post",data:{hir:a},success:function(){$(this).prop("disabled",true)},error:function(d,c,b){console.log(d);console.log("Details: "+c+"\nError:"+b)}})});$("#toTop").css("display","none");$(window).scroll(function(){if($(window).scrollTop()>0){$("#toTop").fadeIn("slow")}else{$("#toTop").fadeOut("slow")}});$("#toTop").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},"slow")})}).ajaxSend(function(b,c,a){if(a.url=="generator.php"){$(".fa-magic").hide();$("#load-gen").show()}if(a.url=="toplista.php"){$(".fa-list-ol").hide();$("#load-top").show()}}).ajaxStop(function(){$(".fa-magic").show();$("#load-gen").hide();$(".fa-list-ol").show();$("#load-top").hide()});